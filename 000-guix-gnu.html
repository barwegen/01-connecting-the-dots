<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-04-06 Thu 22:31 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>gnu guix</title>
<meta name="author" content="fhb" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
</head>
<body>
<div id="content" class="content">
<h1>
  <div align="center">
   <a href="https://git-scm.com/images/logo@2x.png">
      <img src="./img/guix48x48.png"> 
      </br>
      </hr>
    </a>
  </div>
</h1>

<p>
GNU Guix focuses on respecting the user’s computing <i>freedom</i>.
</p>


<p>
;; Install the link type
(org-link-set-parameters "info"
			 :follow #'org-info-open
			 :export #'org-info-export
			 :store #'org-info-store-link
                         :insert-description #'org-info-description-as-command)
</p>


<div id="outline-container-org40daf7c" class="outline-2">
<h2 id="org40daf7c">tl;dr</h2>
<div class="outline-text-2" id="text-org40daf7c">
<p>
installing OS with usb / working with <i>images</i>: <a href="./001-iso-img.md">link</a> 
</p>


<dl class="org-dl">
<dt>profile</dt><dd>a profile is a directory containing installed packages. (<a href="guix.html#Getting-Started">guix#Getting Started</a>)</dd>
</dl>
</div>
</div>


<div id="outline-container-orgb6a2001" class="outline-2">
<h2 id="orgb6a2001"><i>System</i> installation (2)</h2>
<div class="outline-text-2" id="text-orgb6a2001">
<ul class="org-ul">
<li>download the .iso
<ul class="org-ul">
<li>the free one: <a href="https://guix.gnu.org/">https://guix.gnu.org/</a></li>
<li>or a non free one: <a href="https://github.com/SystemCrafters/guix-installer/releases/latest">https://github.com/SystemCrafters/guix-installer/releases/latest</a></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgedecf34" class="outline-2">
<h2 id="orgedecf34">Getting started (5) &amp; Package management (6)</h2>
<div class="outline-text-2" id="text-orgedecf34">
</div>
<div id="outline-container-org15d0241" class="outline-3">
<h3 id="org15d0241">Profile</h3>
<div class="outline-text-3" id="text-org15d0241">
<ul class="org-ul">
<li>Each user has a default profile in ‘$HOME/.guix-profile’.</li>
<li>For each user, a symlink to the user’s default profile is automatically created in ‘$HOME/.guix-profile’.  This symlink always points to the current generation of the user’s default profile.  Thus, users can add ‘$HOME/.guix-profile/bin’ to their ‘PATH’ environment variable, and so on.</li>
<li>The package command operates only on the user’s own profile, and works with normal user privileges</li>
</ul>
</div>
</div>

<div id="outline-container-orgcce3af5" class="outline-3">
<h3 id="orgcce3af5">Some user commands</h3>
<div class="outline-text-3" id="text-orgcce3af5">
<p>
Some user commands Guix system <sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
First some user-level commands to manage packages:
</p>

<pre class="example">
guix package -r lua            # remove package lua
guix package -i keychain       # install package keychain or:
guix package -r lua i guile    # remove lua, install guile
</pre>


<p>
The package is now visible in your default “profile”, ‘$HOME/.guix-profile’—a profile is a directory containing installed packages.  <sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>

<p>
To list installed packages, run:
</p>

<pre class="example">
guix package --list-installed # 
</pre>



<pre class="example">
guix package --roll-back       # Roll back to the previous “generation” of the 
                               # profile—i.e., undo the last transaction.
</pre>


<p>
Each operation is in fact a “transaction” that creates a new “generation”.  These generations and the difference between them can be displayed by running:
</p>

<pre class="example">
guix package --list-generations
</pre>


<p>
Once you’ve installed a set of packages, you will want to periodically upgrade them to the latest and greatest version.  To do that, you will first pull the latest revision of Guix and its package collection:
</p>

<pre class="example">
guix pull
</pre>


<p>
The end result is a new ‘guix’ command, under ‘~/.config/guix/current/bin’. 
</p>

<p>
You can display the exact revision of Guix you’re currently using by
running:
</p>

<pre class="example">
guix describe
</pre>


<p>
Going further: *Note Package Management::, for more about package
management.  You may like “declarative” package management with
‘guix package &#x2013;manifest’, managing separate “profiles” with
‘&#x2013;profile’, deleting old generations, collecting garbage, and
other nifty features that will come in handy as you become more
familiar with Guix.  If you are a developer, *note Development::
for additional tools.  And if you’re curious, *note Features::, to
peek under the hood.
</p>

<p>
Going further: *Note Invoking guix pull::, for more information.
*Note Channels::, on how to specify additional “channels” to pull
packages from, how to replicate Guix, and more.  You may also find
‘time-machine’ handy (*note Invoking guix time-machine::).
</p>
</div>
</div>


<div id="outline-container-orgff38f93" class="outline-3">
<h3 id="orgff38f93">Upgrading the Guix System - older generations</h3>
<div class="outline-text-3" id="text-orgff38f93">
<p>
You can always find the current system configuration at /run/current-system/configuration.scm but I recommend keeping your own copy of your system configuration file that you check into source control.
</p>

<p>
<a href="file:///run/current-system/configuration.scm">file:///run/current-system/configuration.scm</a> <b>BUT</b>
</p>


<p>
If you installed Guix System, one of the first things you’ll want to do is to upgrade your system.  Once you’ve run ‘guix pull’ to get the latest Guix, you can upgrade the system like this:
</p>

<pre class="example">
sudo guix system reconfigure /etc/config.scm
</pre>


<p>
Upon completion, the system runs the latest versions of its software packages.  When you eventually reboot, you’ll <b>notice a sub-menu in the bootloader that reads</b>
</p>

<p>
“Old system generations”;
</p>

<p>
it’s what allows you to boot <span class="underline">an older generation of your system</span>, should the latest generation be “broken” or otherwise unsatisfying.  Just like for packages, you can always <span class="underline">roll back</span> to a previous generation <span class="underline">of the whole system</span>:
</p>

<pre class="example">
sudo guix system roll-back
</pre>


<p>
There are many things you’ll probably want to tweak on your system: adding new user accounts, adding new system services, fiddling with the configuration of those services, etc.  The <b>system configuration</b> is <span class="underline">entirely</span> described in the ‘/etc/config.scm’ file.  *Note Using the Configuration System::, to learn how to change it.
</p>
</div>


<div id="outline-container-org58648f9" class="outline-4">
<h4 id="org58648f9">“declarative approach”</h4>
<div class="outline-text-4" id="text-org58648f9">
<ul class="org-ul">
<li>‘guix package’ also supports a “declarative approach” whereby the user specifies the exact set of packages to be available and passes it via the ‘&#x2013;manifest’ option (*note ‘&#x2013;manifest’: profile-manifest.).</li>
</ul>

<p>
From the manual:
</p>

<p>
‘&#x2013;export-manifest’
     Write to standard output a manifest suitable for ‘&#x2013;manifest’
     corresponding to the chosen profile(s).
</p>

<p>
This option is meant to help you migrate from the “imperative”
operating mode—running ‘guix install’, ‘guix upgrade’, etc.—to the
declarative mode that ‘&#x2013;manifest’ offers.
</p>

<p>
Be aware that the resulting manifest <span class="underline">approximates</span> what your
profile actually contains; for instance, depending on how your
profile was created, it can refer to packages or package versions
that are not exactly what you specified.
</p>

<p>
Keep in mind that a manifest is purely symbolic: it only contains
package names and possibly versions, and their meaning varies over
time.  If you wish to “pin” channels to the revisions that were
used to build the profile(s), see ‘&#x2013;export-channels’ below.
</p>

<p>
‘&#x2013;export-channels’
     Write to standard output the list of channels used by the chosen
     profile(s), in a format suitable for ‘guix pull &#x2013;channels’ or
     ‘guix time-machine &#x2013;channels’ (*note Channels::).
</p>

<p>
Together with ‘&#x2013;export-manifest’, this option provides information
allowing you to replicate the current profile (*note Replicating
Guix::).
</p>

<p>
However, note that the output of this command <span class="underline">approximates</span> what
was actually used to build this profile.  In particular, a single
profile might have been built from several different revisions of
the same channel.  In that case, ‘&#x2013;export-manifest’ chooses the
last one and writes the list of other revisions in a comment.  If
you really need to pick packages from different channel revisions,
you can use inferiors in your manifest to do so (*note
Inferiors::).
</p>

<p>
Together with ‘&#x2013;export-manifest’, this is a good starting point if
you are willing to migrate from the “imperative” model to the fully
declarative model consisting of a manifest file along with a
channels file pinning the exact channel revision(s) you want.
</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">if not running Guix Sysmtem (but install the guix on top of another system (as 'package-manager')) some additonal steps are necessary.</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">In the process, you’ve probably noticed that Guix downloaded pre-built binaries; or, if you explicitly chose to <span class="underline">not</span> use pre-built binaries, then probably Guix is still building software (*note Substitutes::, for more info).</p></div></div>


</div>
</div></div>
</body>
</html>
